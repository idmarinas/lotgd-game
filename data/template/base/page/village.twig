{#
    This module hooks only get messages prepare to print in array format.
    Example:
        [
            [
                'translation.key',
                ['params' => 'for use in translation'],
                'textDomain'
            ],
            [
                'translation.key.2',
                ['params2' => 'for use in translation2'],
                'textDomain2'
            ]
        ]
#}
{% set result = modulehook('village-header') %}
{% for message in result %}
    {{ message[0]|t(message[1], message[2])|colorize }}
{% endfor %}

{% if showVillageDesc %}
    {% for text in texts.text %}
        {{ text[0]|t(text[1], schemas.text)|colorize }}
    {% endfor %}

    {{ texts.clock|t({'clock': gametime()}, schemas.clock)|colorize }}

    {% set result = modulehook('village-desc') %}
    {% for message in result %}
        {{ message[0]|t(message[1], message[2])|colorize }}
    {% endfor %}

    {# Support for a special village-only hook #}
    {% set result = modulehook('village-desc-' ~ user.location) %}
    {% for message in result %}
        {{ message[0]|t(message[1], message[2])|colorize }}
    {% endfor %}

    {% if texts.newestplayer and texts.newest %}
        {{ texts.newest|t({'name': texts.newestplayer }, schemas.newest)|colorize }}

        {% if SU_EDIT_USERS and texts.newestid %}
            [<a href="{{ ('user.php?op=edit&userid=' ~ texts.newestid)|lotgd_url }}">{{ 'opt.edit'|t({}, 'app-default') }}</a>]
        {% endif %}
    {% endif %}
    <br>
{% endif %}

{# Show or not comment area #}
{% if not blockCommentArea %}
    {# Set a limits of comments per page. Default is 25 #}
    {% commentary_limit_comments 25 %}

    {# Set if show pagination of comments. Default is true #}
    {% commentary_show_pagination true %}

    {# Set the url for links of pagination. Default is $_SERVER['REQUEST_URI'] #}
    {% commentary_pagination_link_url 'village.php' %}

    {# Set if can add new comments. Default is true #}
    {% commentary_can_add_comments true %}

    {{ commentary_block(texts.commentary, schemas.commentary) }}
{% endif %}
