{#
    Data avaible in this template

    [
        'homenewestplayer' => string
        'onlinecount' => int
        'cookieactive' => boolean
        'logd_version' => string
        'skinselect' => string
    ]
 #}
<div class="center aligned">
    {#
        Hook of home index. If want show messages need return and array of messages

        Example of messages
        [
            'messages' => [
                'A simple message',
                ['Message with %s string format', $count]
            ]
        ]
     #}
    {% set result = modulehook('index', []) %}
    {% for message in result.messages %}
        {{ message|t|colorize }}
    {% endfor %}

    {{ "Welcome to Legend of the Green Dragon, a browser based role playing game, based on Seth Able's Legend of the Red Dragon"|t|colorize }}
    <br>
    {# Show de game time #}
    {% if getsetting('homecurtime', 1) %}
        {{ '`@The current time in %s is `%%%s`@.`0'|t|format(getsetting('villagename', LOCATION_FIELDS), gametime())|colorize }}<br>
    {% endif %}

    {# Show the next game day #}
    {% if getsetting('homenewdaytime', 1) %}
        {{ '`@Next new game day in: `$%s (real time)`0'|t|format(secondstonextgameday()|date('G\\h, i\\m, s\\s'))|colorize }}<br><br>
    {% endif %}

    {# Show de most newest resident in realm #}
    {% if getsetting('homenewestplayer', 1) and homenewestplayer %}
        {{ '`QThe newest resident of the realm is: `&%s`0'|t|format(homenewestplayer)|colorize }}<br><br>
    {% endif %}

    {# Hook of home text. If want show messages need return and array of messages #}
    {% set result = modulehook('hometext', []) %}
    {% for message in result.messages %}
        {{ message|t|colorize }}
    {% endfor %}

    {# Show login form or full message #}
    {% if onlinecount < getsetting('maxonline', 0) or getsetting('maxonline', 0) == 0 %}
        {# Inform the user that their session has expired #}
        {{ sessiontimeout|t|colorize }}<br>

        <form action="{{ 'login.php' }}" method="POST" onsubmit="Lotgd.md5PassLogin();">
            {% include 'jade/templates/pages/home/login.twig' %}
        </form>
    {% else %}
        {{ '`$`bServer full!`b`n`^Please wait until some users have logged out.`0'|t|colorize }}<br><br>
        {% include 'jade/templates/pages/home/loginfull.twig' %}
    {% endif %}

    {# Inform the user that you are blocking cookies from this site. #}
    {% if not cookieactive %}
        {{ 'It appears that you may be blocking cookies from this site.  At least session cookies must be enabled in order to use this site.`n'|t|colorize }}
        {{ '`b`#If you are not sure what cookies are, please %sread this article%s about them, and how to enable them.`b`n'|t|format('<a href="http://en.wikipedia.org/wiki/WWW_browser_cookie">', '</a>')|colorize }}
    {% endif %}

    {# Hook of home middle. If want show messages need return and array of messages #}
    {% set result = modulehook('homemiddle', []) %}
    {% for message in result.messages %}
        {{ message|t|colorize }}
    {% endfor %}

    {# Login banner - Can change in Game Settings #}
    {% set msg = getsetting('loginbanner', '*BETA* This is a BETA of this website, things are likely to change now and again, as it is under active development *BETA*') %}
    {{ '`n`c`b`&%s`0`b`c`n'|format(msg|t)|colorize }}

    {# Version of game #}
    {{ '`c`2Game server running version: `@%s`0`c'|t|format(logd_version)|colorize }}

    {# Show a skin selector #}
    {% if skinselect %}
        <br>
        <form action="home.php" method="POST">
            <table class="ui very basic centered collapsing table">
                <tr>
                    <td>
                        <div class="ui form">
                            <div class="inline fields">
                                <div class="field">{{ skinselect }}</div>
                                <div class='field'><input type='submit' class='ui button' value='{{ 'Choose'|t }}'></div>
                            </div>
                        </div>
                    </td>
                </tr>
            </table>
        </form>
    {% endif %}
</div>
