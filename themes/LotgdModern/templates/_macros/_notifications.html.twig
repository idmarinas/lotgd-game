{% macro notification(type_class, id, msg_id, msg) %}
    {% set duration = msg_id * 5000 %}

    {% if msg is iterable %}
        {% set title = msg.title|default() %}
        {% set content = msg.notification %}
        {% set close = msg.close|default(true) %}
        {% set duration = (msg.duration|default(5000) + duration) %}
        {% set id = msg.id|default(id) %}
    {% else %}
        {% set content = msg %}
        {% set close = true %}
        {% set duration = (5000 + duration) %}
    {% endif %}

    {% if content %}
        <div
            class="hidden transition transform duration-1000 max-w-sm w-full shadow-lg px-4 py-3 mb-4 rounded relative pointer-events-auto border-l-4 {{ type_class }}"
            data-controller="notification"
            data-notification-delay-value="{{ duration }}"
            data-transition-enter-from="opacity-0 translate-x-6"
            data-transition-enter-to="opacity-100 translate-x-0"
            data-transition-leave-from="opacity-100 translate-x-0"
            data-transition-leave-to="opacity-0 translate-x-6"
            {% if id %} id="{{ id }}" {% endif %}
        >
            <div class="p-2">
                <div class="flex items-start">
                    <div class="ml-3 w-0 flex-1 pt-0.5">
                        {% if title %}
                            <p class="text-sm font-medium text-gray-900">{{ title|uncolorize }}</p>
                        {% endif %}

                        <p class="text-sm leading-5 font-medium">{{ content|uncolorize }}</p>
                    </div>
                    {% if close %}
                        <div class="ml-4 flex-shrink-0 flex">
                            <button
                                data-action="notification#hide"
                                class="inline-flex text-white focus:outline-none focus:text-gray-300 transition ease-in-out duration-150"
                            >
                                <i class="fas fa-times"></i>
                            </button>
                        </div>
                    {% endif %}
                </div>
            </div>
        </div>
    {% endif %}
{% endmacro notification %}

{% macro notification_type(type) %}
    {% if type == 'info' %}
        bg-blue-400 border-blue-700 text-white
    {% elseif type == 'success' %}
        bg-green-400 border-green-700 text-white
    {% elseif type == 'error' %}
        bg-red-400 border-red-700 text-white
    {% elseif type == 'warning' %}
        bg-yellow-400 border-yellow-700 text-white
    {% else %}
        bg-gray-400 border-gray-700 text-white
    {% endif %}
{% endmacro notification_type %}
